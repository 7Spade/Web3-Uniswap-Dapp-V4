# 系統模式記憶庫

## 專案架構模式
- **單體倉庫**: Yarn Workspaces 管理多包專案
- **前端架構**: Next.js 15 + React 18 + TypeScript
- **智能合約**: Foundry + Solidity
- **共享代碼**: 獨立的 shared 和 config 包
- **包管理**: Yarn 1.22.19
- **CI/CD**: GitHub Actions 自動化流程

## 工作區配置模式
- **根目錄控制**: 統一的 package.json 腳本管理
- **工作區腳本**: 使用 `yarn workspace` 執行子包命令
- **並行執行**: concurrently 同時運行多個服務
- **環境隔離**: 獨立的 .env 配置
- **共享依賴**: shared 和 config 包提供通用功能
- **類型安全**: 統一的 TypeScript 類型定義

## 命令組織模式
- **統一入口**: 根目錄 package.json 提供所有命令
- **Makefile 支持**: 提供便捷的 make 命令
- **環境適配**: 支持本地、測試網、主網部署
- **開發工具**: 集成 Genkit AI、Anvil 區塊鏈

## 開發工作流程模式
- **前端開發**: `yarn dev` 啟動 Next.js 開發服務器
- **合約開發**: `yarn anvil` 啟動本地區塊鏈
- **全棧開發**: `make dev:full` 同時啟動前端和區塊鏈
- **測試流程**: 分離的前端和合約測試命令

## 構建和部署模式
- **分階段構建**: 先構建合約，再構建前端
- **環境配置**: 支持多環境部署腳本
- **合約驗證**: 自動化合約驗證流程
- **Gas 優化**: 內建 gas 報告和分析

## 代碼組織模式
- **組件結構**: 功能導向的組件組織
- **文件命名**: kebab-case
- **導入模式**: 相對路徑導入
- **類型定義**: 集中式類型管理

## Web3 整合模式
- **錢包連接**: RainbowKit + Wagmi hooks
- **交易處理**: Viem 客戶端
- **狀態同步**: 實時區塊鏈數據
- **錯誤處理**: 統一的錯誤邊界

## 開發工具模式
- **熱重載**: Next.js 開發服務器
- **類型檢查**: TypeScript 編譯時檢查
- **代碼格式化**: Prettier
- **代碼檢查**: ESLint
- **AI 集成**: Genkit AI 開發工具

## 部署模式
- **構建工具**: Next.js 內建構建系統 + Foundry
- **靜態資源**: Next.js 優化
- **環境變數**: 運行時配置
- **合約部署**: Foundry 腳本自動化